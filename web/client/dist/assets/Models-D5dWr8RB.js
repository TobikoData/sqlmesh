import{x as B,Q as M,s as $,a as d,r as x,t as L,v as m,i as h,e as b,j as s,G as F,g as T,l as E,H as z,U as K,a7 as P,O as A,D as O,b as R}from"./index-Dj0i1-CA.js";import{S as k,b as w,m as C,n as D,o as G,p as H,f as I,g as U}from"./SearchList-W_iT2G82.js";import{P as Q}from"./Page-C-XfU5BR.js";import{g as W}from"./context-BctCsyGb.js";import{u as f}from"./project-BvSOI8MY.js";import"./Input-B-oZ6fGO.js";import"./floating-ui.react-dom-CjE-JNW1.js";import"./help-B59vE3aE.js";import"./popover-_Sf0yvOI.js";import"./SplitPane-CViaZmw6.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./editor-CcO28cqd.js";import"./file-CvJN3aZO.js";import"./SourceList-DSLO6nVJ.js";import"./index-C-dJH7yZ.js";function ne({route:g=b.Home}){const{pathname:j}=B(),{modelName:i}=M(),u=$(),n=d(e=>e.models),r=d(e=>e.lastSelectedModel),N=d(e=>e.setLastSelectedModel),p=f(e=>e.files),S=f(e=>e.setSelectedFile),l=x.useMemo(()=>Array.from(new Set(n.values())),[n]),{isFetching:c}=L(),t=`${g}/models`,a=m(i)||i===(r==null?void 0:r.name)?r:n.get(encodeURI(i));x.useEffect(()=>{if(m(a))return;const e=p.get(a.path);h(e)&&S(e),N(a),u(`${t}/${a.name}`,{replace:!0})},[p,a,t]);const v=m(a)&&h(i)&&R(c);return s.jsx(Q,{sidebar:O(l)?void 0:s.jsx(w,{"update-selector":"tbk-model-name",children:s.jsx(C,{selectable:!0,onChange:e=>u(e.detail.value),className:"pt-3 px-2",children:Object.entries(D.categorize(l)).map(([e,y])=>s.jsx(G,{headline:e,open:!0,children:y.map(o=>s.jsx(H,{size:"xs","hide-icon":!0,active:j===`${t}/${o.name}`,value:`${t}/${o.name}`,"search-value":o.displayName,compact:!0,children:s.jsx(I,{"hide-schema":!0,"hide-catalog":!0,"hide-tooltip":!0,text:o.displayName,children:s.jsx(U,{size:"2xs",slot:"after",children:W(o.type)})})},o.name))},e))})}),content:s.jsx(F.Page,{children:s.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[T(l)&&s.jsx(k,{list:l,size:E.lg,searchBy:"index",displayBy:"displayName",to:e=>`${t}/${e.name}`,direction:"top",className:"p-2",isFullWidth:!0,disabled:c}),s.jsx(z,{}),v?s.jsx(K,{link:t,message:"Go Back",description:`Model "${i}" not found.`}):c?s.jsx(P,{children:"Loading Model page..."}):s.jsx(A,{})]})})})}export{ne as default};
